/* --------------- Animations ---------------- */
/* ----------------------------------------------
 * Generated by Animista on 2020-5-30 21:2:51
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info.
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */
/**
 * ----------------------------------------
 * Animation for DMG indicator (victim)
 * ----------------------------------------
 */
@keyframes victim-hit {
  0% {
    transform: translateX(300px);
    animation-timing-function: ease-in;
    opacity: 0;
  }
  19% {
    transform: translateX(170px);
    animation-timing-function: ease-in;
    opacity: 1;
  }
  38% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
  55% {
    transform: translateX(34px);
    animation-timing-function: ease-in;
  }
  72% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
  81% {
    transform: translateX(16px);
    animation-timing-function: ease-in;
  }
  90% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
  95% {
    transform: translateX(4px);
    animation-timing-function: ease-in;
  }
  100% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
}
@keyframes attacker-hit {
  0% {
    transform: translateX(-300px);
    animation-timing-function: ease-in;
    opacity: 0;
  }
  19% {
    transform: translateX(-170px);
    animation-timing-function: ease-in;
    opacity: 1;
  }
  38% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
  55% {
    transform: translateX(-34px);
    animation-timing-function: ease-in;
  }
  72% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
  81% {
    transform: translateX(-16px);
    animation-timing-function: ease-in;
  }
  90% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
  95% {
    transform: translateX(-4px);
    animation-timing-function: ease-in;
  }
  100% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
}

/* Styles */

.dashboard-assaults {
  & #attackerCard {
    order: 1;
    @media (--s) {
      order: 3;
    }
  }
  & #victimCard {
    order: 2;
    @media (--s) {
      order: 1;
    }
  }
  & #assaultControls {
    order: 3;
    @media (--s) {
      order: 2;
    }
  }
}

.assault-hit {
  font-size: 24px;
  position: absolute;
  @media (--s) {
    font-size: 18px;
  }
  opacity: 1;
  white-space: nowrap;
  width: 100%;
  &#attackerDmg {
    bottom: 0;
    right: 5px;
    &.dmg-hit-attacker {
      animation: attacker-hit 500ms cubic-bezier(0.6, -0.28, 0.735, 0.045) 1 forwards;
    }
  }
  &#victimDmg {
    top: 0;
    left: 5px;
    &.dmg-hit-victim {
      animation: victim-hit 500ms cubic-bezier(0.6, -0.28, 0.735, 0.045) 1 forwards;
    }
  }
  &.hidden {
    opacity: 0;
    transform: translateY(10px);
    transition: all 150ms ease-out;
  }
}

/* Avatars */
.assault-avatar {
  position: relative;
  & > img {
    transition: all 200ms ease-out;
  }
  &.assault-dead {
    background: url('images/dead.jpg');
    & > img {
      opacity: 0.1;
    }
  }
  &::after {
    content: "";
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transition: all 125ms ease-out;
  }
  /* ATTACKER */
  &.assault-attacker::after {
    box-shadow: 0 0 1px 2px rgba(50, 50, 255, 0.2),
                0 0 2px 0px rgba(150, 200, 255, 0.15),
                inset 0 0 1px 0px var(--primary),
                0 0 1px 0px var(--primary);
  }
  &.assault-player-current.assault-attacker::after {
    box-shadow: 0 0 6px 2px rgba(50, 150, 255, 0.7),
                0 0 7px 1px rgba(150, 200, 255, 0.75),
                inset 0 0 6px 4px var(--primary),
                0 0 3px 2px var(--primary);
  }
  /* VICTIM */
  &.assault-victim::after {
    box-shadow: 0 0 1px 2px rgba(255, 0, 0, 0.2),
                0 0 2px 0px rgba(255, 150, 200, 0.15),
                inset 0 0 1px 0px var(--c-red),
                0 0 1px 0px var(--c-red);
  }
  &.assault-player-current.assault-victim::after {
    box-shadow: 0 0 6px 2px rgba(255, 50, 0, 0.7),
                0 0 7px 1px rgba(255, 150, 200, 0.75),
                inset 0 0 6px 4px var(--c-red),
                0 0 3px 2px var(--c-red);
  }
}

/* Nametags */
span.assault-victim {
  color: var(--c-red);
  font-weight: 700;
}
span.assault-attacker {
  color: var(--primary);
  font-weight: 700;
}

.assault-record span {
  @media (--s) {
    padding: 5px 0;
  }
}
